Этот файл описывает структуру исходных файлов проекта для правильной организации при скачивании или клонировании.

## Ключевые файлы игровой логики

Основная игровая логика находится в директории `src/lib/game/`:

1. **constants.ts** - Константы, перечисления, интерфейсы и базовые классы
   - Содержит интерфейсы `IPlayer` и `ICellEvent` для контрактов между игроком и ячейками
   - Включает абстрактный класс `BaseCellEvent` и конкретные реализации событий
   - Содержит реестр `CellEventRegistry` для регистрации создателей событий
   - Реализует фабрику `CellEventFactory` для создания событий через реестр

2. **gameBoard.ts** - Логика игрового поля и ячеек
   - Использует интерфейс `IBoardEventGenerationStrategy` для стратегии генерации событий
   - Позволяет заменять стратегию генерации событий без изменения кода класса

3. **gameState.ts** - Состояние игры и игровая логика
   - Реализует интерфейс `IPlayer` для взаимодействия с событиями ячеек
   - Управляет состоянием игрока, бросками кубиков и ходами

4. **renderer.ts** - Отрисовка всех игровых элементов
   - Использует интерфейс `ICellRenderStrategy` для стратегии отрисовки ячеек
   - Позволяет заменять стратегию отрисовки без изменения кода класса

5. **inputHandler.ts** - Обработка пользовательского ввода
   - Обрабатывает нажатия клавиш и передает команды в игровое состояние

6. **game.ts** - Основной класс Game, интеграция с React
   - Объединяет все компоненты игры и управляет их взаимодействием
   - Обеспечивает интеграцию с React-компонентом

## Интеграция с React

Игра интегрируется в React через компонент `src/components/GameComponent.tsx`, который:

1. Создает контейнер для игры
2. Инициализирует игровой экземпляр
3. Обрабатывает события клавиатуры
4. Управляет жизненным циклом игры

## Инструкция по установке

1. Клонируйте репозиторий или создайте структуру директорий как указано выше
2. Установите зависимости: `npm install`
3. Запустите в режиме разработки: `npm run dev`
4. Соберите для продакшена: `npm run build`

## Расширение игры

Для добавления новых типов событий:

1. Создайте новый класс события, наследующий от `BaseCellEvent`
2. Создайте класс создателя события, реализующий `ICellEventCreator`
3. Зарегистрируйте создателя в `CellEventRegistry`
4. Используйте `CellEventFactory` для создания экземпляров нового события

Пример:
```typescript
// 1. Создание нового типа события
export class TeleportCellEvent extends BaseCellEvent {
    constructor(private targetX: number, private targetY: number) {
        super(CellEvent.TELEPORT, 0x00FFFF);
    }
    
    interact(player: IPlayer): string {
        // Логика телепортации игрока
        return `Телепорт! Вы перемещены в точку (${this.targetX}, ${this.targetY}).`;
    }
}

// 2. Создание создателя события
export class TeleportCellEventCreator implements ICellEventCreator {
    createEvent(value: number = 0): ICellEvent {
        // Логика создания события телепортации
        const targetX = Math.floor(Math.random() * GRID_SIZE);
        const targetY = Math.floor(Math.random() * GRID_SIZE);
        return new TeleportCellEvent(targetX, targetY);
    }
}

// 3. Регистрация создателя
CellEventRegistry.registerEventCreator(CellEvent.TELEPORT, new TeleportCellEventCreator());
```

## Примечания

- Игра использует Pixi.js 8.9.2 для рендеринга
- Проект создан с использованием Vite и TypeScript
- Для стилизации используется Tailwind CSS
- Компоненты UI основаны на библиотеке shadcn/ui
